function grand_table=distance_interpolater(recv_pkt, xmit_pos, recv_pos)
%% Grand Table

grand_table = array2table([recv_pkt.gps_sow, ...
    interp1(recv_pos.gps_sow, recv_pos{:, { 'x', 'y', 'z', 'height' } }, recv_pkt.gps_sow), ...
    interp1(xmit_pos.gps_sow, xmit_pos{:, { 'x', 'y', 'z', 'height' } }, recv_pkt.gps_sow), ...
    recv_pkt.dbm
    ],...
    'VariableNames',{ 'gps_sow' 'rx' 'ry' 'rz' 'rh' 'tx' 'ty' 'tz' 'th' 'dbm'});

grand_table.distance = sqrt((grand_table.tx - grand_table.rx).^2 + ...
    (grand_table.ty - grand_table.ry).^2 + ...
    (grand_table.tz - grand_table.rz).^2 ...
    );
grand_table.angle = abs(grand_table.rh - grand_table.th)./grand_table.distance;

grand_table.h2 = grand_table.rh.^2 .* grand_table.th.^2;

end
